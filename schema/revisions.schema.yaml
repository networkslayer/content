$schema: "https://json-schema.org/draft/2020-12/schema"

type: object

properties:
  rules:
    description: >
      Optional list of rules. Each rule has a name, latestVersion, and contentHash (all required) and an optional revision note.
    type: array
    items:
      type: object
      properties:
        name:
          description: >
            Name of the rule (without .yaml extension).
          type: string
        latestVersion:
          description: >
            Latest version number of the rule.
          type: integer
        contentHash:
          description: >
            Hash of the rule content for integrity verification.
          type: string
        versionNote:
          description: >
            Optional note describing the revision or changes made.
          type: string
      required:
        - name
        - latestVersion
        - contentHash

  dashboards:
    description: >
      Optional list of dashboards. Each dashboard has a name, latestVersion, and contentHash (all required) and an optional revision note.
    type: array
    items:
      type: object
      properties:
        name:
          description: >
            Name of the dashboard (without .yaml extension).
          type: string
        latestVersion:
          description: >
            Latest version number of the dashboard.
          type: integer
        contentHash:
          description: >
            Hash of the dashboard content for integrity verification.
          type: string
        versionNote:
          description: >
            Optional note describing the revision or changes made.
          type: string
      required:
        - name
        - latestVersion
        - contentHash

  notebooks:
    description: >
      Optional list of notebooks. Each notebook has a name, latestVersion, and contentHash (all required) and an optional revision note.
    type: array
    items:
      type: object
      properties:
        name:
          description: >
            Name of the notebook (without .ipynb extension).
          type: string
        latestVersion:
          description: >
            Latest version number of the notebook.
          type: integer
        contentHash:
          description: >
            Hash of the notebook content for integrity verification.
          type: string
        versionNote:
          description: >
            Optional note describing the revision or changes made.
          type: string
      required:
        - name
        - latestVersion
        - contentHash

  presets:
    description: >
      Optional list of presets. Each preset has a source, sourceType, latestVersion, and contentHash (all required) and an optional revision note.
    type: array
    items:
      type: object
      properties:
        source:
          description: >
            Source of the preset.
          type: string
        sourceType:
          description: >
            Type of the preset source.
          type: string
        latestVersion:
          description: >
            Latest version number of the preset.
          type: integer
        contentHash:
          description: >
            Hash of the preset content for integrity verification.
          type: string
        versionNote:
          description: >
            Optional note describing the revision or changes made.
          type: string
      required:
        - source
        - sourceType
        - latestVersion
        - contentHash

anyOf:
  - required: ["presets"]
  - required: ["rules"]
  - required: ["dashboards"]
  - required: ["notebooks"]

additionalProperties: false

